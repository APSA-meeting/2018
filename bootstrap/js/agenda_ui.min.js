!function(){"use strict";var t,n,o,i,e,a,c,h,s,d=window.location.hash;h=function(t){history&&(0===t.length?history.pushState("",document.title,window.location.pathname):history.pushState("",document.title,window.location.pathname+"#"+t))},c=function(){s=[{location:0,id:""}],$(".anchor").each(function(){s.push({location:$(this).offset().top,id:$(this).attr("id")})}),s=s.sort(function(t,n){return t.location-n.location})},n=function(t){var n=$(this),o=$(".navbar").height(),i=$(e[t]),a=i.offset().top+i.height();n.on("affix.bs.affix",function(){n.css("width",n.parent().width()),n.parent().css("min-height",n.height())}),n.affix({offset:{top:n.offset().top-o,bottom:$(document).height()-a}})},o=function(){var t,n=$(this);return t=$("<div>"),n.wrap(t),n.parent()[0]},i=function(t){var n,o=$(this);return n=$(a[t]).clone(),o.empty(),o.append(n),o.css("min-height",n.height()),n[0]},window.onscroll=function(){var n,o=window.pageYOffset,i=!1,e=s[s.length-1].id;for(o>=t?$(".top-navigation").fadeIn():$(".top-navigation").fadeOut(),n=0;!i&&n<s.length-1;n+=1)o>=s[n].location&&o<s[n+1].location&&(i=!0,e=s[n].id);e!==d&&(h(e),d=e)},$(window).load(function(){var h,s;e=$(".agenda-table"),h=$(".agenda-day"),a=h.clone(),s=h.map(o),h.each(n),$(".top-navigation").click(function(){window.scrollTo(0,0)}),t=500,c(),$(".more-less").on("hide.bs.collapse",function(){$(this).children().children("a[data-toggle]").text("More"),c()}).on("show.bs.collapse",function(){$(this).children().children("a[data-toggle]").text("Less"),c()}),$(".bubble-md, .bubble-sm").mouseover(function(){$(this).children().children("div").css("opacity","0.5")}).mouseout(function(){$(this).children().children("div").css("opacity","1")}),$(window).on("resize",function(){(h=s.map(i)).each(n),t=$(".anchor").eq(1).offset().top,c()})})}();